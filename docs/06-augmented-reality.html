<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Augmented Reality</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="main.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Augmented Reality</h1>
</header>
<p>Wir möchten uns jetzt das Thema Augmented Reality anschauen. Unter
Augmented Reality versteht man dass die Realität mithilfe der Computers
erweitert wird. Dabei geht es nicht darum in eine komplette virtuelle
Welt abzutauchen, sondern die bestehende Realität zu erweitern und
gewisse Hilfen für den Benutzer anzuzeigen, oder einfach nur um Spass zu
haben. Dazu wird sehr häufig Künstliche Intelligenz verwendet um Modelle
schnell und effizient zu berechnen.</p>
<p>In unserem Fall verwenden wir ein sogenanntes neuronales Netzwerk von
Mediapipe um Hände in Bildern zu erkennen. Sie können das Modell hier
finden, und auch nachschauen welcher Punkt zu welcher Stelle der Hand
gehört.</p>
<center>
<a href="https://google.github.io/mediapipe/solutions/hands">MediaPipe
Hands</a>
</center>
<section id="daumen-erkennen" class="example">
<h3>Daumen erkennen</h3>
<p>Sie können ganz einfach die Daumenspitze von Ihrer Hand erkennen,
indem Sie das folgende Replit öffnen. Damit die Seite auch richtig
funktioniert, müssen Sie diese in einem eigenen Browsertab öffnen
nachdem Sie das Repl geforkt haben.</p>
<center>
<a href="https://replit.com/@CedricGeissmann/hand-detection?v=1">Handerkennung</a>
</center>
</section>
<h2 id="code-verstehen">Code verstehen</h2>
<p>Der Code ist sehr einfach für Sie organisiert. Sie finden alles was
Sie brauchen in der Datei <code>helper.js</code> und in
<code>script.js</code>.</p>
<section id="script.js" class="example">
<h3><code>script.js</code></h3>
<p>In der Datei <code>script.js</code> finden Sie die Funktion
<code>draw()</code>. Diese wird bei jedem neuen Frame das Ihre Kamera
macht aufgerufen und sie erhalten eine Liste mit <code>landmarks</code>,
welches die Punkte der Hand sind die von der KI erkannte werden.</p>
<p>In der Computergrafik wird normalerweise mit Vektoren gearbeitet,
also machen wir das hier auch so. Wir haben eine praktische Funktion
<code>createVectorFromLandmark(landmark)</code> welche uns einen Vektor
erzeugt. Diesen können wir dann mit der Funktion
<code>drawCircle(vec, radius, color)</code> anzeigen lassen.</p>
</section>
<section id="farbe-und-grösse-ändern" class="exercise">
<h3>Farbe und Grösse ändern</h3>
<p>Ändern Sie die Farbe und die Grösse des Kreises der dargestellt
wird.</p>
</section>
<p>Wenn Sie beide Hände ins Bild bringen, sehen Sie das beide Hände
einzeln erkannt werden. Sie können also die Punkte pro Hand
einzeichnen.</p>
<section id="weitere-punkte-einzeichnen" class="exercise">
<h3>Weitere Punkte einzeichnen</h3>
<p>Suchen Sie auf der Webseite von
<a href="https://google.github.io/mediapipe/solutions/hands">MediaPipe
Hands</a> nach weiteren Punkten, und zeichnen Sie diese ebenfalls ein.
Wählen Sie dafür eine andere Farbe.</p>
</section>
<p>Da Sie sich alle bestens mit der Vektorgeometrie auskennen, können
Sie auch eigene Punkte einzeichnen oder abstände messen und Winkel
bestimmen. Dafür schreiben Sie normalerweise eine Funktion die Ihnen die
ganze Arbeit abnimmt sobald Sie den Vorgang wiederholen möchten. Diese
Funktionen können Sie in der Datei <code>helper.js</code> finden und
auch neue hinzufügen.</p>
<section id="einen-neuen-punkt-bestimmen" class="exercise">
<h3>Einen neuen Punkt bestimmen</h3>
<p>Bestimmen Sie den Mittelpunkt zwischen dem Daumen und dem
Zeigefinger. Schreiben Sie dafür eine neue Funktion
<code>calcMidpoint(vec1, vec2)</code> in die Datei
<code>helper.js</code>. Die Funktion nimmt 2 Vektoren entgegen und gibt
einen neuen Vektor zurück.</p>
<p>Zeichnen Sie den neuen Punkt ein.</p>
</section>
<p>Wenn Sie neue Punkte berechnen möchten, dann ist es am einfachsten
wenn Sie dies an einer Hand machen. Es ist zwar möglich mit beiden
Händen, dazu müssten Sie den Code aber neu strukturieren, deshalb
sollten Sie sich auf nur eine Hand konzentrieren.</p>
<section id="vektor-aus-2-punkten-berechnen" class="exercise">
<h3>Vektor aus 2 Punkten berechnen</h3>
<p>Sie können Punkte ja als Ortsvektoren betrachten, also können Sie
auch einen neuen Vektor aus 2 Vektoren bestimmen. Implementieren Sie
eine Funktion <code>calcVector(vec1, vec2)</code> die einen neuen Vektor
aus 2 bereits bestehenden Vektoren errechnet.</p>
</section>
<p>Sie können nun die Funktionen <code>addVectors(vec1, vec2)</code> und
<code>scaleVector(vec, factor)</code> verwenden um einen neuen Punkt zu
berechnen. Berechnen Sie den Vektor vom Handgelenk zu Daumenspitze und
dann berechnen Sie einen neuen Punkt, wo Sie die Spitze des Daumens um
genau diesen Vektor verschieben. Zeichnen Sie diesen Punkt ein.</p>
<p>Die Länge der Vektoren können Sie mit der Funktion
<code>scaleVector(vec, factor)</code> anpassen.</p>
<section id="vektor-normieren" class="exercise">
<h3>Vektor normieren</h3>
<p>Es kann ganz praktisch sein wenn Sie einen Vektor normieren können.
Einen Vektor normieren bedeutet ihn auf die Länge 1 zu bringen. Sie
müssen Ihn also mit seinem eigenen Betrag skalieren.</p>
<p>Schreiben Sie eine Funktion die den Betrag eines Vektors berechnet.
Schreiben Sie eine Funktion die einen Vektor normiert.</p>
</section>
<p>Sie können Punkte / Vektoren auch verbinden. Dafür gibt es die
praktische Helferfunktion <code>drawLine(vec1, vec2, color)</code></p>
<section id="punkte-verbinden" class="exercise">
<h3>Punkte verbinden</h3>
<p>Zeichnen Sie eine Linie vom Handgelenk zur Spitze von jedem
Finger.</p>
</section>
<p>Sie können die Endpunkte der Linien auch zuvor als neue Vektoren
berechnen.</p>
<section id="linien-verlängern" class="exercise">
<h3>Linien verlängern</h3>
<p>Nehmen Sie das oberste Gelenk des Zeigefingers und die Spitze des
Zeigefingers. Berechnen Sie den Vektor für diese Verschiebung und
normieren Sie den Vektor. Jetzt können Sie den neuen Vektor so skalieren
das es aussieht als hätten Sie Krallen.</p>
</section>
<p>Mit dem Skalarprodukt können Sie auch Winkel zwischen 2 Vektoren
berechnen.</p>
<section id="skalarprodukt" class="exercise">
<h3>Skalarprodukt</h3>
<p>Berechnen Sie den Winkel zwischen der Daumenspitze, dem Handgelenk
und dem Zeigefinger. Schreiben Sie den Winkel auf die Konsole.</p>
<p>Sie können diese Funktion auch erweitern. Wenn der Winkel zwischen
85° und 95° ist, dann zeichnen Sie die Verbindungslinien in grün,
ansonsten zeichnen Sie diese rot.</p>
</section>
</body>
</html>
